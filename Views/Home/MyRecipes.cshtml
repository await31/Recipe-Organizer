@model IEnumerable<Recipe>
@inject SignInManager<Account> SignInManager
@using Microsoft.AspNetCore.Identity;
@inject UserManager<Account> UserManager
@{
    ViewData["Title"] = "My Recipes";
}
<style>
    .card .overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.35);
        opacity: 0;
        transition: opacity .3s ease-in-out;
    }

    .card a {
        position:absolute;
        top:50%;
        left: 50%;
        transform: translate(-50%, -50%);
        opacity: 0;
        visibility: hidden;
        transition: opacity .2s ease-in-out, visibility 0s linear .2s;
    }

    .card:hover a {
        opacity: 1;
        visibility: visible;
        transition-delay: 0s;
    }

    .card:hover .overlay {
        opacity: 1;
    }

    .limit-line-1 {
        display: -webkit-box;
        -webkit-line-clamp: 1; /* Maximum number of lines to show */
        -webkit-box-orient: vertical;
        overflow: hidden;
        text-overflow: ellipsis;
    }
</style>
<div class="mt-5 mb-5">
    <h2 id="collectionName" class="text-center">My Recipes</h2>
</div>
<div class="row" style="margin-left: 10%;">
    @foreach (var recipe in Model)
    {
        <div class="card d-flex col-md-3 col-sm-6 mx-4 mb-4 px-0 overflow-hidden rounded-4 border-0" style="position:relative ;height:300px;">
            <div class="position-relative" style="height: 60%;">
                <img src="@recipe.ImgPath" class="img-fluid card-img-top" alt="Food" style="height: 100%">
            </div>
            <div class="mt-2" style="height: 40%;">
                <div class="card-body pb-4 pt-3">
                    <h4 class="card-title text-dark text-decoration-none text-center" style="font-family: Bahnschrift; white-space:nowrap; overflow: hidden; text-overflow:ellipsis;">@recipe.Name</h4>
                    <div class="d-flex row mt-4 ms-4 mb-3">
                        <div class="rounded-5 col-6 text-dark px-0">
                            @if (recipe.PrepTime < 360)
                            {
                                <i class="fa-solid fa-clock"></i> <span class="text-dark" style="font-size: 14px;">@recipe.PrepTime minutes</span>
                            }
                            else
                            {
                                <i class="fa-solid fa-clock"></i> <span class="text-dark" style="font-size: 14px;">@(recipe.PrepTime / 60) hours</span>
                            }
                        </div>
                        <div class="rounded-5 col-6 text-dark px-0">
                            <i class="fa-solid fa-utensils"></i> <span class="text-dark" style="font-size: 14px;">@recipe.FkRecipeCategory?.Name</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="overlay"></div>
            <a asp-controller="UserRecipes" asp-action="Details" asp-route-id="@recipe.Id" style="left: 50%; top: 60%;" target="_blank" class="btn btn-info position-absolute">
                DETAILS <i class="fa-solid fa-circle-info"></i>
            </a>
            <a asp-controller="UserRecipes" asp-action="Edit" asp-route-id="@recipe.Id" style="left: 50%; top: 40%;" class="btn btn-warning position-absolute">
                EDIT <i class="fa-solid fa-pen-to-square"></i>
            </a>
        </div>
    } @*End of foreach*@

</div>