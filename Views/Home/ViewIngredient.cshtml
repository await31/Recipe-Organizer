@model IEnumerable<Ingredient>

    @{
    ViewBag.Title = "View Ingredient";
    Pager pager = new Pager();
    int pageNo = 0;
    if(ViewBag.Pager != null) {
        pager = ViewBag.Pager;
        pageNo = pager.CurrentPage;
    }
    Layout = "~/Views/Shared/_Layout.cshtml";
    }

    <div class="container">
        <div class="container text-center">
            <div class="row row-cols-2 row-cols-lg-5 g-2 g-lg-3 mt-4">

                @foreach (var obj in Model) {
                <div>
                    <div class="col card mb-4 px-0 overflow-hidden rounded-4 border-0" style="background: linear-gradient(180deg, rgba(255,255,255,1) 0%, rgba(192,246,255,0.4086426807050946) 100%);">
                        <img src="@obj.ImgPath" class="card-img-top img-fluid" alt="Ingredient image">
                        <div class="card-body h-50 mb-1">
                            <h5 class="card-title">@obj.Name</h5>
                            <p class="card-text">@obj.Description</p>
                            <div><a href="#" id="btn-open" class="btn btn-dark text-light float-end" data-mdb-ripple-color="dark"><i class="fa-solid fa-file-lines"></i></a></div>
                        </div>
                    </div>
                </div>
            }
            </div>
        </div>
    </div>

    <!-- Modal -->
    <div id="modal-container">
        <div class="modal" id="modal-bg">
            <div>
                <div class="modal-header">
                    <h3>Ingredient Detail</h3>
                    <button id="btn-close">
                        <i class="fa-solid fa-xmark"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <img style="width: 50%;"
                         src="https://images.unsplash.com/photo-1588347818036-558601350947?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTV8fGJlZWZ8ZW58MHx8MHx8fDA%3D&auto=format&fit=crop&w=500&q=60"
                         alt="Ingredient image">
                    <p>
                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <style>
        #btn-open {
            background: rgb(66, 128, 205);
            color: white;
            cursor: pointer;
            border: none;
        }

        #btn-close {
            background: none;
            border: none;
            cursor: pointer;
        }

        #modal-container {
            height: 100%;
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            position: fixed;
            top: 0;
            left: 0;
            opacity: 0;
            pointer-events: none;
            transition: all .25s ease-in-out 250ms;
        }

            #modal-container.show {
                opacity: 1;
                pointer-events: all;
            }

                #modal-container.show .modal {
                    top: 50%;
                }

        .modal {
            height: auto;
            width: 500px;
            border-radius: 10px;
            padding: 20px;
            display: flex;
            box-sizing: border-box;
            background: white;
            max-width: 500px;
            position: relative;
            left: 50%;
            top: -200%;
            transform: translate(-50%, -50%);
            transition: all .25s ease-in-out 250ms;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 5px 20px;
            border-bottom: 1px solid #dedede;
        }

        .modal-body {
            padding-top: 20px;
            display: flex;
        }

            .modal-body p {
                height: auto;
                padding: 0 12px;
                margin-top: 0;
            }
    </style>

    <script>
        const btn_open = document.getElementById('btn-open');
        const btn_close = document.getElementById('btn-close');
        const modal_container = document.getElementById('modal-container');
        const modal_bg = document.getElementById('modal-bg');
        btn_open.addEventListener('click', () => {
            modal_container.classList.add('show');
        });
        btn_close.addEventListener('click', () => {
            modal_container.classList.remove('show');
        });
        modal_container.addEventListener('click', (e) => {
            if (!modal_bg.contains(e.target)) {
                btn_close.click();
            }
        })
    </script>

    <partial name="_Pager" model="@pager" />
